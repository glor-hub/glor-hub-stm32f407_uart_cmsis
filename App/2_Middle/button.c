//********************************************************************************
//button.c
//********************************************************************************
#include "stm32f4xx.h"
#include <stdbool.h>
#include "common.h"
#include "arm_gpio.h"
#include "arm_clock.h"
#include "button.h"
#include "gpio.h"
#include "exti.h"
#include "led.h"

//********************************************************************************
//Macros
//********************************************************************************

//********************************************************************************
//Enums
//********************************************************************************

//********************************************************************************
//Typedefs
//********************************************************************************

//********************************************************************************
//Variables
//********************************************************************************

//********************************************************************************
//Prototypes
//********************************************************************************

//================================================================================
//Public
//================================================================================

void Button_Test(void)
{
    uint8_t flag = EXTI_GetFlag();
    if(flag) {
        LED_Test();
        EXTI_ClearFlag();
    }
}

void Button_Init(void)
{
    ARM_RCC_Periph_ClockCmd(GPIO_PORT_A, ENABLE_CMD);
    GPIO_SetData(GPIOA, ARM_GPIO_IO_0, ARM_GPIO_IO_MODE_INPUT, ARM_GPIO_IO_TYPE_NO,
                 ARM_GPIO_IO_HI_Z, ARM_GPIO_IO_SPEED_FREQ_LOW, ARM_GPIO_IO_AF_0);
    EXTI_Init();
}

//================================================================================
//Private
//================================================================================


