//********************************************************************************
//init.c
//********************************************************************************
#include "stm32f4xx.h"
#include "init.h"
#include "clock.h"


//********************************************************************************
//Macros
//********************************************************************************

//********************************************************************************
//Enums
//********************************************************************************

//********************************************************************************
//Typedefs
//********************************************************************************

//********************************************************************************
//Variables
//********************************************************************************

//********************************************************************************
//Prototypes
//********************************************************************************

static void GPIO_Config(void);
static void Init_Clock(void);

//================================================================================
//Public
//================================================================================

void Init_Device(void)
{
    Init_Clock();

    GPIO_Config();
}

//================================================================================
//Private
//================================================================================
static void GPIO_Config(void)
{

}

static void Init_Clock(void)
{
//Сброс настроек RCC к состоянию после сброса.
    RCC_Reset();
    /*
    Выбираем в качестве источник тактового сигнала - внешний высокоскоростной генератор HSE,
    работающий от внешнего кварцевого резонатора 8 МГц, прошедший через внутренний
    умножитель частоты PLL:
    */
    RCC_SetSysClockTo168();
    SystemCoreClockUpdate();
}
